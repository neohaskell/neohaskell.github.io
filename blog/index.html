<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">NHEP | NeoHaskell</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://neohaskell.org/img/neohaskell-social.png"><meta data-rh="true" name="twitter:image" content="https://neohaskell.org/img/neohaskell-social.png"><meta data-rh="true" property="og:url" content="https://neohaskell.org/blog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="NHEP | NeoHaskell"><meta data-rh="true" name="description" content="NeoHaskell Evolution Proposals"><meta data-rh="true" property="og:description" content="NeoHaskell Evolution Proposals"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://neohaskell.org/blog"><link data-rh="true" rel="alternate" href="https://neohaskell.org/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://neohaskell.org/blog" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="NeoHaskell RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="NeoHaskell Atom Feed">




<link rel="preconnect" href="https://app.posthog.com">
<script>!function(t,o){var e,p,i,n;o.__SV||(window.posthog=o,o._i=[],o.init=function(r,s,a){function c(t,o){var e=o.split(".");2==e.length&&(t=t[e[0]],o=e[1]),t[o]=function(){t.push([o].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=o;for(void 0!==a?g=o[a]=[]:a="posthog",g.people=g.people||[],g.toString=function(t){var o="posthog";return"posthog"!==a&&(o+="."+a),t||(o+=" (stub)"),o},g.people.toString=function(){return g.toString(1)+".people (stub)"},e="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<e.length;p++)c(g,e[p]);o._i.push([r,s,a])},o.__SV=1)}(document,window.posthog||[]),posthog.init("phc_OV9vt2ooQmPSMBRvLLoeTGpOh5aZTQOrfpDHpqwqRqO",{api_host:"https://app.posthog.com",id:"default"})</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f73b3cc5.css">
<link rel="preload" href="/assets/js/runtime~main.be67017e.js" as="script">
<link rel="preload" href="/assets/js/main.739e0647.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NeoHaskell Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="NeoHaskell Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">NeoHaskell</b></a><a class="navbar__item navbar__link" href="/docs/docs-intro/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Evolution Proposals</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/neohaskell/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/wDj3UYzec8" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Proposals Index</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0000-index">NHEP 0 - Index of NeoHaskell Evolution Proposals</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0001-purpose-and-guidelines">NHEP 1 - Purpose and Guidelines</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0002-project-target">NHEP 2 - Target and User Persona</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0003-principles-of-design">NHEP 3 - Principles of Design</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0004-semantic-versioning">NHEP 4 - Semantic Versioning</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0005-better-default-string-type">NHEP 5 - Better Default String Type</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0006-better-default-list-type">NHEP 6 - Better Default List Type</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0007-more-concise-type-signature-syntax">NHEP 7 - More Concise Type Signature Syntax</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/0008-script-style-modules">NHEP 8 - Script-style modules</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0000-index">NHEP 0 - Index of NeoHaskell Evolution Proposals</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-26T00:00:00.000Z" itemprop="datePublished">September 26, 2023</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/NickSeagull.png" alt="Nick Tchayka"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nick Tchayka</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of NeoHaskell</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>STATUS - DRAFT</div><div class="admonitionContent_S0QG"></div></div><p>This NHEP will contain the index of all <strong>NeoHaskell Enhancement Proposals</strong>, known as NHEPs. NHEP numbers are assigned by the NHEP editors, and once assigned are never changed. The <a href="https://github.com/neohaskell/NHEP" target="_blank" rel="noopener noreferrer">Git history</a> of the NHEP texts represent their historical record.</p><p>In the future, the NHEPs will be listed here by category. For now, use the sidebar on the left.</p><p>A good starting point is <a href="/0001-purpose-and-guidelines">NHEP 1</a>, which describes the NHEP process itself.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0001-purpose-and-guidelines">NHEP 1 - Purpose and Guidelines</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-26T00:01:00.000Z" itemprop="datePublished">September 26, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/NickSeagull.png" alt="Nick Tchayka"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nick Tchayka</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of NeoHaskell</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>STATUS - IN PROGRESS</div><div class="admonitionContent_S0QG"></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-nhep">What is a NHEP?<a href="#what-is-a-nhep" class="hash-link" aria-label="Direct link to What is a NHEP?" title="Direct link to What is a NHEP?">​</a></h2><p>NHEP stands for NeoHaskell Evolution Proposal. It is a document that describes a change or addition to NeoHaskell.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="statuses-of-a-nhep">Statuses of a NHEP<a href="#statuses-of-a-nhep" class="hash-link" aria-label="Direct link to Statuses of a NHEP" title="Direct link to Statuses of a NHEP">​</a></h2><p>A NHEP can have one of the following statuses:</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>STATUS - DRAFT</div><div class="admonitionContent_S0QG"><p>This status indicates that the NHEP is still being written and is not ready for review.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>STATUS - IN PROGRESS</div><div class="admonitionContent_S0QG"><p>This status indicates that the NHEP has been accepted but is still being implemented.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - INTEGRATED</div><div class="admonitionContent_S0QG"><p>This status indicates that the NHEP has been implemented.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - ACCEPTED</div><div class="admonitionContent_S0QG"><p>This status is for informational NHEPs that have been accepted.</p></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>STATUS - REJECTED</div><div class="admonitionContent_S0QG"><p>This status indicates that the NHEP has been rejected.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-contribute-to-the-design-process">How to contribute to the design process<a href="#how-to-contribute-to-the-design-process" class="hash-link" aria-label="Direct link to How to contribute to the design process" title="Direct link to How to contribute to the design process">​</a></h2><p>Everyone is welcome to propose, discuss, and review ideas to improve NeoHaskell in the <code>#proposals</code> channel of the Discord server.</p><p>Note that the project is in a very early stage, and the contribution to the design process is not well defined.</p><p>As some general rules for now, take this into account before submitting a proposal:</p><ul><li>No &quot;What about if NeoHaskell does a 180-degree turn and instead does this completely unrelated thing?&quot;. These kinds of proposals are <strong>seen as completely out of the scope of the NeoHaskell project and will be instantly dismissed.</strong></li><li><strong>Use constructive criticism.</strong> Instead of &quot;remove this, I don&#x27;t like it&quot;, take a moment to think and give actual reasons like &quot;I believe that this function in the standard library is not clear enough, someone could understand this in a wrong way&quot;</li><li>Is the problem being addressed <strong>impactful enough</strong> to warrant a change to NeoHaskell?</li><li>How does this impact the <a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment" target="_blank" rel="noopener noreferrer"><strong>Principle of Least Astonishment</strong></a> of the project?</li><li>How does this impact the <a href="https://www.forbes.com/sites/forbestechcouncil/2023/09/22/ensuring-developer-happiness-how-to-hang-on-to-software-engineers" target="_blank" rel="noopener noreferrer"><strong>Principle of Developer Happiness</strong></a> of the project?</li><li>How does this impact the <a href="https://simplicable.com/design/principle-of-least-effort" target="_blank" rel="noopener noreferrer"><strong>Principle of Least Effort</strong></a> of the project? Both externally for the users and internally for the maintainers.</li><li>Does this proposal fit well with the <strong>feel and direction</strong> of NeoHaskell?</li><li>What <strong>other libraries/languages</strong> got you inspired to submit this proposal? How does this compare to those?</li><li>How much <strong>effort</strong> did you put into your review? A glance, a quick reading, or an in-depth study?</li></ul><p>Please <strong>state explicitly</strong> whether you believe that the proposal should be accepted into NeoHaskell.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0002-project-target">NHEP 2 - Target and User Persona</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-28T00:00:00.000Z" itemprop="datePublished">September 28, 2023</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/NickSeagull.png" alt="Nick Tchayka"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nick Tchayka</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of NeoHaskell</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - ACCEPTED</div><div class="admonitionContent_S0QG"></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>This document defines the target audience and <a href="https://en.wikipedia.org/wiki/Persona_(user_experience)" target="_blank" rel="noopener noreferrer">user persona</a> for the NeoHaskell project.</p><p>The definition of this target audience and user persona is intended to guide the design and development of the NeoHaskell project. It is not intended to be a strict definition of who can or cannot use the NeoHaskell project, only a guide to help the project team make decisions. Everyone is welcome to use NeoHaskell, regardless of whether they fit the target audience or user persona.</p><p>If a user doesn&#x27;t fit the target audience that doesn&#x27;t mean that they shouldn&#x27;t use NeoHaskell, it just means that the design process and showcasing process won&#x27;t be prioritizing them.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="target-audience">Target Audience<a href="#target-audience" class="hash-link" aria-label="Direct link to Target Audience" title="Direct link to Target Audience">​</a></h2><p>The target audience of NeoHaskell are developers who have a maker/hacker philosophy, who are comfortable with a <strong>statically typed</strong> mainstream language like <strong>TypeScript or Java</strong>, and who are interested in developing a project as fast as possible to test an idea or prototype a product, <strong>even if they aren&#x27;t the most experienced software developers</strong>. They are not interested in spending a lot of time learning a new programming language in-depth, they are not interested in learning software architecture in-depth, and they are not interested in spending a lot of time learning a new framework.</p><p>They are interested in learning new things, as long as those are steps in the direction of their goal. They are willing to learn a new programming language, as long as they can start writing code in a few hours. They are willing to learn a new framework, as long as they can start using it in a few hours. They are willing to learn a new architecture, as long as they can start using it in a few hours.</p><p>These are not interested in having a perfect code quality from the beginning, so they <strong>won&#x27;t be investing time in thoroughly testing their code</strong>, regardless of the testing methodology. And although they do not know it, they value working in a <strong>domain-driven</strong> way.</p><p>They will probably be interested in learning more about the programming language, the framework, and the architecture, but only after they have a working prototype of their project.</p><p>They don&#x27;t have enough time to spend on their projects, probably because they have a full-time job, or they are students, or they have a family, or they have other hobbies. So they prefer a command line tool that does everything for them, instead of having to research the different tools for their technology stack, and then having to configure them to work together.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whos-not-the-target-audience">Who&#x27;s not the target audience<a href="#whos-not-the-target-audience" class="hash-link" aria-label="Direct link to Who&#x27;s not the target audience" title="Direct link to Who&#x27;s not the target audience">​</a></h3><p>Well-seasoned developers who have experience either in Haskell or in functional programming in general, and who are looking to apply concepts well-established in the functional world.</p><p>Users who are interested in type theory, category theory, programming language theory, and other advanced topics in computer science.</p><p>Again, if a user doesn&#x27;t fit the target audience doesn&#x27;t mean that they shouldn&#x27;t use NeoHaskell, it just means that the design process and showcasing process won&#x27;t be prioritizing them.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-persona">User Persona<a href="#user-persona" class="hash-link" aria-label="Direct link to User Persona" title="Direct link to User Persona">​</a></h2><ul><li><strong>Name</strong>: Jess</li><li><strong>Role</strong>: Junior Software Developer</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="actions-motivations-and-pains">Actions, Motivations, and Pains<a href="#actions-motivations-and-pains" class="hash-link" aria-label="Direct link to Actions, Motivations, and Pains" title="Direct link to Actions, Motivations, and Pains">​</a></h3><ul><li><strong>What do I do?</strong><ul><li>Work full-time as a software developer in a TypeScript software shop.</li><li>In the evenings and weekends I try to build up my portfolio by working on side projects.</li><li>Learning good practices, patterns, and technologies that act as leverage for my learning process.</li></ul></li><li><strong>Why do I do it?</strong><ul><li>I want to improve my skills as a software developer.</li><li>Having a good portfolio will help me get a better job.</li><li>One of my projects might become a startup.</li></ul></li><li><strong>What do I want?</strong><ul><li>I want to build a project as fast as possible.</li><li>I want to have negotiation power by mentioning skills that are relevant in the market, regardless of the technology stack.</li><li>I want to have fun while learning.</li></ul></li><li><strong>What&#x27;s stopping me?</strong><ul><li>There are a lot of things to learn, and I don&#x27;t know where to start.</li><li>Many times, existing tools have so many pitfalls that I end up spending more time fixing them than actually working on my project, which is frustrating.</li><li>I don&#x27;t have enough experience to reason too much about all the side-effects that are happening under the hoods, that make my code behave in unexpected ways. This leads to a lot of frustration, and I end up thinking that I&#x27;m not good enough to be a software developer.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="values">Values<a href="#values" class="hash-link" aria-label="Direct link to Values" title="Direct link to Values">​</a></h3><ul><li><strong>What convinces me?</strong><ul><li>Having good documentation that explains the concepts that I need to know.</li><li>Having recipes and precise instructions on the steps I need to follow to achieve my goals.</li><li>Being able to understand the code that I&#x27;m looking at.</li><li>Success stories of other people of my skill level who have achieved similar goals as mine.</li></ul></li><li><strong>What or who informs me?</strong><ul><li>Dev.to</li><li>Friends and colleagues</li><li>Twitter</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h3><ul><li><strong>Where am I?</strong><ul><li>At home</li><li>At a coffee shop</li><li>On public transportation</li></ul></li><li><strong>What&#x27;s my day to day?</strong><ul><li>One hour commute to and from work</li><li>Attend daily standup meetings</li><li>Work on my assigned tasks</li><li>Have to do groceries and other chores after work</li><li>Spend time with my family</li><li>If there&#x27;s time left, work on my side projects</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>Here we describe the target audience and user persona for NeoHaskell. All the design and development decisions will be made with this target audience and user persona in mind.</p><p>We will try to make the project as accessible as possible for these kinds of users. So they can enjoy even the last 15 minutes of the day, where they have time to work on their side projects.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0003-principles-of-design">NHEP 3 - Principles of Design</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-03T00:00:00.000Z" itemprop="datePublished">October 3, 2023</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/NickSeagull.png" alt="Nick Tchayka"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nick Tchayka</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of NeoHaskell</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - ACCEPTED</div><div class="admonitionContent_S0QG"></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>This document defines the design principles that guide the design and implementation processes of NeoHaskell. They are
intended to guide the decisions in both the high-level, as well as the low-level, decision-making process of the project.</p><p>Their purpose is to ensure that the project prioritizes the correct aspects of the design and implementation, and that
<a href="/blog/0002-project-target">the target audience and user persona</a> are kept in mind at all times, as they are the most
important stakeholders of the project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="principle-of-least-astonishment">Principle of Least Astonishment<a href="#principle-of-least-astonishment" class="hash-link" aria-label="Direct link to Principle of Least Astonishment" title="Direct link to Principle of Least Astonishment">​</a></h2><p>The Principle of Least Astonishment, also known as the Principle of Least Surprise, is a guideline in user interface and software design that emphasizes creating systems that behave in a manner consistent with user expectations, thereby minimizing user surprise and confusion. The principle advises that system components should act in alignment with widely accepted conventions and their syntactical indications. It encourages designers to ensure that the behavior of a system or feature closely matches users&#x27; existing knowledge and expectations to reduce the learning curve and prevent user astonishment. Although the principle originated in the late 1960s, it remains relevant in different technological platforms and settings to ensure that functionalities such as keyboard shortcuts, widgets, or method names are intuitive and adhere to familiar patterns for users, thereby enhancing user experience and system usability.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h3><p>Those might not look like much, but they are details that end up stacking and streamlining the overall experience. The aim is to reduce the cognitive load on the user, and they are already learning a new language and ecosystem, so we should remove as much
stuff to learn as possible. For example, promoting:</p><ul><li>JSON or YAML as configuration formats instead of TOML or Dhall.</li><li>Git as the version control software instead of Darcs or Pijul.</li><li>GitHub as the code hosting platform instead of GitLab or BitBucket.</li><li>Visual Studio Code as the IDE instead of Emacs or Vim.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="principle-of-developer-happiness">Principle of Developer Happiness<a href="#principle-of-developer-happiness" class="hash-link" aria-label="Direct link to Principle of Developer Happiness" title="Direct link to Principle of Developer Happiness">​</a></h2><p>The Principle of Developer Happiness prioritizes establishing an environment that aligns with software developers&#x27; professional and personal expectations, thereby enhancing satisfaction and retention. It underscores creating engaging experiences and a supportive culture where developers are fairly compensated, and find alignment with the group&#x27;s mission. Additionally, it advocates for the use of efficient tools and technologies to streamline the development process and save time. Finally, it emphasizes continuous visibility into and assessment of developer efficiency through surveys and feedback, ensuring a continually optimized working environment that resonates with developer needs and expectations. This principle aims to meld operational strategies with developer satisfaction, ensuring an atmosphere that intuitively supports developers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="examples-1">Examples<a href="#examples-1" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h3><p>This principle emphasizes creating an environment that aligns with the expectations of both developers and users of NeoHaskell. It centers around fostering satisfaction, engagement, and a supportive community. Here are some examples:</p><ul><li><strong>Clear Documentation</strong>: Provide user-friendly and comprehensive documentation with code examples.</li><li><strong>Community Engagement</strong>: Encourage active participation and collaboration within the open-source community.</li><li><strong>Transparent Decision-Making</strong>: Maintain transparency in language development decisions.</li><li><strong>Inclusive Onboarding</strong>: Offer resources for developers of all skill levels.</li><li><strong>Recognition</strong>: Acknowledge and appreciate contributions and projects from the community.</li><li><strong>Feedback Channels</strong>: Create accessible channels for users and contributors to provide input and report issues.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="principle-of-least-effort">Principle of Least Effort<a href="#principle-of-least-effort" class="hash-link" aria-label="Direct link to Principle of Least Effort" title="Direct link to Principle of Least Effort">​</a></h2><p>The Principle of Least Effort underscores the axiom that entities, within a given context, will opt for the solution that requires the minimal amount of work or complexity to achieve a specific goal. Applied within the realm of software design and development, it emphasizes creating systems and interfaces that are straightforward, easy to comprehend, and simple to interact with, thereby reducing the cognitive and operational load on both the user and developer. On the user&#x27;s side, interfaces should be intuitive, providing the easiest pathway to accomplish tasks with minimum steps and complexity. For developers, this principle encourages the creation of code and architectures that are clean, succinct, and straightforward to understand and modify. Ultimately, adhering to the Principle of Least Effort enables the creation of more user-friendly applications and sustainably maintainable codebases, promoting efficient and effective interactions for all involved parties.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="examples-2">Examples<a href="#examples-2" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h3><ul><li><strong>Simple Syntax</strong>: Design the language with a straightforward and intuitive syntax to reduce the cognitive load on developers using the language.</li><li><strong>Clear and Concise Documentation</strong>: Provide comprehensive yet concise documentation to help users understand and utilize the language effectively without unnecessary complexity.</li><li><strong>Standard Libraries</strong>: Include a well-organized standard library that simplifies common programming tasks, reducing the effort required to implement them from scratch.</li><li><strong>Error Handling</strong>: Implement user-friendly error messages and handling mechanisms that assist developers in identifying and resolving issues efficiently.</li><li><strong>Community Support</strong>: Foster a supportive community where developers can seek help, share knowledge, and collaborate, reducing the effort needed to overcome challenges.</li><li><strong>Version Management</strong>: Streamline version management and updates to make it easy for users to adopt new language features and improvements.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>In conclusion, the design principles outlined for NeoHaskell serve as a fundamental compass for the project&#x27;s development and implementation processes. The Principle of Least Astonishment underscores the importance of aligning system behavior with user expectations, enhancing user experience and usability. The Principle of Developer Happiness focuses on creating an environment that satisfies both developers and users, emphasizing engagement, transparency, and continuous improvement. Lastly, the Principle of Least Effort promotes simplicity and efficiency, reducing the cognitive and operational load on users and developers alike.</p><p>These principles collectively ensure that NeoHaskell remains user-centric, developer-friendly, and efficient throughout its development journey. By adhering to these guiding principles, NeoHaskell aims to not only meet but exceed the expectations of its target audience and user persona, ultimately leading to a successful and user-satisfying language.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0004-semantic-versioning">NHEP 4 - Semantic Versioning</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-06T00:00:00.000Z" itemprop="datePublished">October 6, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/NickSeagull.png" alt="Nick Tchayka"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nick Tchayka</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of NeoHaskell</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - ACCEPTED</div><div class="admonitionContent_S0QG"></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>In the context of the NeoHaskell ecosystem, we employ the <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">Semantic Versioning</a> (SemVer) schema. SemVer consists of a set of rules and guidelines for assigning and incrementing version numbers within our software development process. By embracing SemVer, NeoHaskell addresses the intricacies of managing dependencies, especially as the ecosystem complexity evolves. The primary objective of utilizing Semantic Versioning within the NeoHaskell ecosystem is to ensure that our version numbers are both transparent and informative, effectively communicating the nature of changes made to our software.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-astonishment">Impact on Principle of Least Astonishment<a href="#impact-on-principle-of-least-astonishment" class="hash-link" aria-label="Direct link to Impact on Principle of Least Astonishment" title="Direct link to Impact on Principle of Least Astonishment">​</a></h2><p>Semantic Versioning has a positive impact on the Principle of Least Astonishment. First of all, it is a very popular schema, used by many open-source projects. Second, adhering to clear and consistent rules for version numbering reduces confusion and surprises for developers and users of software packages. When version numbers follow a predictable pattern (Major.Minor.Patch), it becomes easier for stakeholders to understand the significance of each release. This predictability enhances the user experience and makes it easier to manage software dependencies.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-developer-happiness">Impact on Principle of Developer Happiness<a href="#impact-on-principle-of-developer-happiness" class="hash-link" aria-label="Direct link to Impact on Principle of Developer Happiness" title="Direct link to Impact on Principle of Developer Happiness">​</a></h2><p>Semantic Versioning contributes to the Principle of Developer Happiness. It provides developers with a systematic approach to versioning, which simplifies the process of releasing and upgrading software packages. Developers can confidently make changes to their codebase while following SemVer guidelines, knowing that version numbers convey the impact of those changes. This reduces the stress associated with managing dependencies and allows developers to focus on building and improving their software.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-effort">Impact on Principle of Least Effort<a href="#impact-on-principle-of-least-effort" class="hash-link" aria-label="Direct link to Impact on Principle of Least Effort" title="Direct link to Impact on Principle of Least Effort">​</a></h2><p>Semantic Versioning aligns with the Principle of Least Effort by streamlining the management of software dependencies. When developers adhere to SemVer, they can make backward-compatible changes without having to release new major versions. This reduces the effort required to maintain and update software packages. Additionally, clear documentation of public APIs and the use of version numbers to indicate compatibility further simplify the integration of dependencies, minimizing the effort needed to ensure smooth interactions between software components.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-of-semver-in-early-development-phases">Usage of SemVer in early development phases<a href="#usage-of-semver-in-early-development-phases" class="hash-link" aria-label="Direct link to Usage of SemVer in early development phases" title="Direct link to Usage of SemVer in early development phases">​</a></h2><p>During the early development of the NeoHaskell project, the major version will be kept at 0, so that the community can expect breaking changes to occur frequently. Once the project reaches a stable state, the major version will be incremented to 1, indicating that breaking changes will be made less frequently.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="standardizing-the-use-of-semver">Standardizing the use of SemVer<a href="#standardizing-the-use-of-semver" class="hash-link" aria-label="Direct link to Standardizing the use of SemVer" title="Direct link to Standardizing the use of SemVer">​</a></h2><p>The Semantic Versioning schema is advised as a standard for all NeoHaskell projects, as it will help all of the ecosystem to be in sync.</p><p>The <code>neo</code> CLI tool will easily help bumping versions, as it will inspect the exported functions and types and will suggest the next version based on the changes made.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="considerations">Considerations<a href="#considerations" class="hash-link" aria-label="Direct link to Considerations" title="Direct link to Considerations">​</a></h2><p>Note that even though the API of a package is not changed, the implementation of a function can be changed, which can lead to different results. This is considered a breaking change and should be reflected in the version number.</p><p>Take a look at this <a href="https://github.com/semver/semver/issues/311" target="_blank" rel="noopener noreferrer">GitHub thread</a> for examples and more information.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0005-better-default-string-type">NHEP 5 - Better Default String Type</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-21T00:00:00.000Z" itemprop="datePublished">October 21, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/SiriusStarr" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/SiriusStarr.png" alt="SiriusStarr"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SiriusStarr" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SiriusStarr</span></a></div><small class="avatar__subtitle" itemprop="description">NeoHaskell Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - DRAFT</div><div class="admonitionContent_S0QG"></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>By default, Haskell&#x27;s <code>String</code> type is only an alias for <code>[Char]</code> and as such is inefficient for non-trivial uses (e.g. due to slow appends). The <code>text</code> package provides a more sensible <code>Text</code> type and has become essentially the standard within the Haskell ecosystem.</p><p>NeoHaskell should use <code>Text</code> as its default string type under the more familiar name <code>String</code> and support literals via the standard <code>&quot;double quoted&quot;</code> syntax.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-astonishment">Impact on Principle of Least Astonishment<a href="#impact-on-principle-of-least-astonishment" class="hash-link" aria-label="Direct link to Impact on Principle of Least Astonishment" title="Direct link to Impact on Principle of Least Astonishment">​</a></h2><p>The fact that a simple string literal is inefficient and usually undesirable violates the Principle of Least Astonishment. Most new programmers expect <code>String</code> and <code>&quot;string literals&quot;</code> to work as expected without any additional effort. This change will align NeoHaskell with those expectations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-developer-happiness">Impact on Principle of Developer Happiness<a href="#impact-on-principle-of-developer-happiness" class="hash-link" aria-label="Direct link to Impact on Principle of Developer Happiness" title="Direct link to Impact on Principle of Developer Happiness">​</a></h2><p>As noted below, this change will require less boilerplate of developers and allow them to get to actual code faster. Eliminating the use of <code>OverloadedStrings</code> will also cut down on unexpected type errors.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-effort">Impact on Principle of Least Effort<a href="#impact-on-principle-of-least-effort" class="hash-link" aria-label="Direct link to Impact on Principle of Least Effort" title="Direct link to Impact on Principle of Least Effort">​</a></h2><p>Currently, nearly every Haskell project requires a dependency on <code>text</code> and files are littered with <code>import Data.Text</code>s and <code>{-# LANGUAGE OverloadedStrings #-}</code>s. This change will eliminate all of that overhead and allow the use of a sensible string type with better ergonomics.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation">Implementation<a href="#implementation" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">​</a></h2><p>In early stages, this can be achieved via prelude and pragmas by <code>newtype</code>ing <code>Text</code> to <code>String</code> and use of <code>OverloadedStrings</code> with:</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token hvariable">default</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IsString</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">String</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">-- where String is the new type over Text</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="considerations">Considerations<a href="#considerations" class="hash-link" aria-label="Direct link to Considerations" title="Direct link to Considerations">​</a></h2><p>Since <code>Text</code> is the standard for most of the Haskell ecosystem, this change is unlikely to have many negative ramifications, other than possible confusion over the <code>String</code> type in NeoHaskell actually being <code>Text</code> and not <code>String</code>, but this is only of concern for developers stepping outside of the NeoHaskell ecosystem.</p><p>Another consideration is the existence of the other common data type <code>ByteString</code>. <code>Text</code> is more often the sensible default for all except extremely performance-critical applications, so this should not be a problem.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0006-better-default-list-type">NHEP 6 - Better Default List Type</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-21T00:02:00.000Z" itemprop="datePublished">October 21, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/SiriusStarr" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/SiriusStarr.png" alt="SiriusStarr"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SiriusStarr" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SiriusStarr</span></a></div><small class="avatar__subtitle" itemprop="description">NeoHaskell Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - DRAFT</div><div class="admonitionContent_S0QG"></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>By default, Haskell&#x27;s <code>List</code> type is a simple linked list and as such is inefficient for many common operations (getting by index, appending, iterating from the end, etc.). A number of other more efficient list-like data structures are available, most notably the array-like <code>Vector</code> and the list-like <code>Seq</code>.</p><p>NeoHaskell should choose one of these two data structures as its default list type and support literals via the standard <code>[1, 2, 3]</code> syntax.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-astonishment">Impact on Principle of Least Astonishment<a href="#impact-on-principle-of-least-astonishment" class="hash-link" aria-label="Direct link to Impact on Principle of Least Astonishment" title="Direct link to Impact on Principle of Least Astonishment">​</a></h2><p>The fact that a simple list literal is inefficient to append or get by index and usually undesirable violates the Principle of Least Astonishment. Most new programmers expect sytactic sugar like <code>[1, 2, 3]&quot;</code> to produce a commonly desirable data type without any additional effort. This change will align NeoHaskell with those expectations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-developer-happiness">Impact on Principle of Developer Happiness<a href="#impact-on-principle-of-developer-happiness" class="hash-link" aria-label="Direct link to Impact on Principle of Developer Happiness" title="Direct link to Impact on Principle of Developer Happiness">​</a></h2><p>As noted below, this change will require less boilerplate of developers and allow them to get to actual code faster, as well as gently guiding developers to choose a data type without them having to decide which to use.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-effort">Impact on Principle of Least Effort<a href="#impact-on-principle-of-least-effort" class="hash-link" aria-label="Direct link to Impact on Principle of Least Effort" title="Direct link to Impact on Principle of Least Effort">​</a></h2><p>Currently, nearly every Haskell project requires a dependency on <code>containers</code> and/or <code>vector</code> and files are littered with <code>import</code>s and <code>{-# LANGUAGE OverloadedList #-}</code>s. This change will eliminate all of that overhead and allow the use of a sensible list type with better ergonomics.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation">Implementation<a href="#implementation" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">​</a></h2><p>In early stages, this can be achieved via prelude and pragmas by the use of <code>OverloadedLists</code> with:</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token hvariable">default</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IsList</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">Vector</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">-- or Seq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="considerations">Considerations<a href="#considerations" class="hash-link" aria-label="Direct link to Considerations" title="Direct link to Considerations">​</a></h2><p>Haskell&#x27;s default lists are more efficient for LIFO queues than either of these data types. There could, however, be a <code>Queue</code> data type or the like to push developers in that when it&#x27;s desirable.</p><p>List comprehensions (if they will be in NeoHaskell) would need to support this data type as well.</p><p><code>Vector</code> is not pattern-matchable on. <code>Seq</code> does not have this issue, which might be a point in favor of it.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0007-more-concise-type-signature-syntax">NHEP 7 - More Concise Type Signature Syntax</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-26T00:00:00.000Z" itemprop="datePublished">October 26, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/SiriusStarr" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/SiriusStarr.png" alt="SiriusStarr"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SiriusStarr" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SiriusStarr</span></a></div><small class="avatar__subtitle" itemprop="description">NeoHaskell Contributor</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - DRAFT</div><div class="admonitionContent_S0QG"></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>Haskell uses <code>::</code> for type signatures (and the shorter <code>:</code> for cons). Type signatures are generally far, far more numerous than cons operations/pattern matches, and so most Haskell-descended languages have chosen to use <code>:</code> for type signatures instead, for the sake of cleaner-looking code and fewer developer keypresses. <code>:</code> for cons does highlight the importance of lists in the original conception of Haskell, but with the default list type possibly changing (per <a href="https://neohaskell.org/blog/0006-better-default-list-type" target="_blank" rel="noopener noreferrer">NHEP 6</a>), it will likely be de-emphasized in NeoHaskell.</p><p>NeoHaskell should use a single colon <code>:</code> to denote type signatures instead.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-astonishment">Impact on Principle of Least Astonishment<a href="#impact-on-principle-of-least-astonishment" class="hash-link" aria-label="Direct link to Impact on Principle of Least Astonishment" title="Direct link to Impact on Principle of Least Astonishment">​</a></h2><p>Most languages descended from Haskell have made this change, including Elm, Idris, and Agda. Additionally, many unrelated languages use the same syntax for types, including F#, Dhall, and OCaml, or similar syntax featuring a single colon, e.g. TypeScript, Elixir, Rust, and Python (for type hints).</p><p>Almost no other language except Purescript uses <code>::</code> while all of the aforementioned use <code>:</code> in some capacity, so this change will make NeoHaskell&#x27;s syntax more intuitive to non-Haskell developers.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-developer-happiness">Impact on Principle of Developer Happiness<a href="#impact-on-principle-of-developer-happiness" class="hash-link" aria-label="Direct link to Impact on Principle of Developer Happiness" title="Direct link to Impact on Principle of Developer Happiness">​</a></h2><p>Since there are far, far more type signatures than cons in most Haskell code, this change renders syntax visually cleaner, more familiar, and reduces the number of required keypresses.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-effort">Impact on Principle of Least Effort<a href="#impact-on-principle-of-least-effort" class="hash-link" aria-label="Direct link to Impact on Principle of Least Effort" title="Direct link to Impact on Principle of Least Effort">​</a></h2><p>As mentioned above, this change reduces the number of required keypresses to write a type signature.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="considerations">Considerations<a href="#considerations" class="hash-link" aria-label="Direct link to Considerations" title="Direct link to Considerations">​</a></h2><p>This will require a change to the cons operator of lists. <code>::</code> is of course available, though that could perhaps be used for a new default list type instead per <a href="https://neohaskell.org/blog/0006-better-default-list-type" target="_blank" rel="noopener noreferrer">NHEP 6</a>. Regardless, this decision must be made as well.</p><p>This change will render NeoHaskell slightly less familiar to Haskell developers. However, as noted above, most other languages descended from Haskell have made the same change, and it is unlikely to cause significant friction.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/0008-script-style-modules">NHEP 8 - Script-style modules</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-11-08T00:00:00.000Z" itemprop="datePublished">November 8, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/NickSeagull.png" alt="Nick Tchayka"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/NickSeagull" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nick Tchayka</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of NeoHaskell</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>STATUS - DRAFT</div><div class="admonitionContent_S0QG"></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>Haskell doesn&#x27;t allow writing code directly in a file, with the intent of running it as a script.
Similarly to Java, Rust or C, it forces the user to put the code that is going to be run in a <code>main</code> function.</p><p>Contrary to Java or the others, the syntax is extremely useful for scripts, as it is expressive and concise.
There are solutions like <code>runhaskell</code> that allow you to run a Haskell file that defines a <code>main</code> function,
and users are already using it for scripts. For example, the widely used library <a href="https://github.com/digital-asset/ghc-lib/blob/master/CI.hs" target="_blank" rel="noopener noreferrer">ghc-lib uses it for their CI/CD processes</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="possible-implementation">Possible Implementation<a href="#possible-implementation" class="hash-link" aria-label="Direct link to Possible Implementation" title="Direct link to Possible Implementation">​</a></h2><p>Imports would be parsed and put at the top level, the rest would be inside of a <code>main</code> function. The users would have to run the module&#x27;s <code>main</code> function explicitly, so there are no unexpected side effects on imports.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-with-no-exports">Example with no exports<a href="#example-with-no-exports" class="hash-link" aria-label="Direct link to Example with no exports" title="Direct link to Example with no exports">​</a></h3><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">module</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">MyScript</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token import-statement keyword" style="color:rgb(255, 157, 0)">import</span><span class="token import-statement"> File</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">foo</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">File</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token builtin" style="color:rgb(250, 208, 0)">read</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;foo.txt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">myFunction</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">Int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-&gt;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">myFunction</span><span class="token plain"> </span><span class="token hvariable">n</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">Int</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">toString</span><span class="token plain"> </span><span class="token hvariable">n</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token hvariable">foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This would be compiled to:</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">module</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">MyScript</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token import-statement keyword" style="color:rgb(255, 157, 0)">import</span><span class="token import-statement"> File</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">main</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">foo</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">File</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token builtin" style="color:rgb(250, 208, 0)">read</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;foo.txt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">myFunction</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">Int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-&gt;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">myFunction</span><span class="token plain"> </span><span class="token hvariable">n</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token hvariable">Int</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">toString</span><span class="token plain"> </span><span class="token hvariable">n</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token hvariable">foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">pass</span><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">-- This is a function that does nothing but is required to make the main function valid</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-with-exports">Example with exports<a href="#example-with-exports" class="hash-link" aria-label="Direct link to Example with exports" title="Direct link to Example with exports">​</a></h3><p>The complexity is exporting symbols. If one would want to export some kind of function or data type from this kind of module, those would have to be put at the top level, which means that they wouldn&#x27;t be allowed to use stuff from the scope they&#x27;re defined with. E.g.</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">module</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">MyScript</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token hvariable">myFunction</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token import-statement keyword" style="color:rgb(255, 157, 0)">import</span><span class="token import-statement"> File</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">foo</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">File</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token builtin" style="color:rgb(250, 208, 0)">read</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;foo.txt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">myFunction</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">Int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-&gt;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">myFunction</span><span class="token plain"> </span><span class="token hvariable">n</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">Int</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">toString</span><span class="token plain"> </span><span class="token hvariable">n</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token hvariable">foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This would be compiled to:</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">module</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">MyScript</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token hvariable">myFunction</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token hvariable">main</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token import-statement keyword" style="color:rgb(255, 157, 0)">import</span><span class="token import-statement"> File</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">myFunction</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">Int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-&gt;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">myFunction</span><span class="token plain"> </span><span class="token hvariable">n</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">Int</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">toString</span><span class="token plain"> </span><span class="token hvariable">n</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token hvariable">foo</span><span class="token plain">     </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">-- Woops, foo is not defined!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">main</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">foo</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">File</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token builtin" style="color:rgb(250, 208, 0)">read</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;foo.txt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">pass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A solution would be to have a compile-time marker that marks the function as reexported in a script-style module, and if it has a <code>&lt;symbol&gt;  is not in scope</code> error, tell that it is not allowed to do that kind of stuff because it is introducing side effects, and we would direct the user to the proper documentation that explains why not.</p><p>Another solution, which is a double-edged blade, is to do some symbol tracking and if the function has to be reexported to the top level, we create a top-level mutable reference that:</p><ol><li>Is <strong>NOT</strong> reexported</li><li>Is initialized in <code>main</code></li><li>The function does an unsafe read of the mutable reference, using that value.</li></ol><p>This has the problem that if <code>main</code> hasn&#x27;t been called, this would fail in runtime.</p><p>A naive solution would be to introduce a runtime check, but that would make the code slower, and we&#x27;d introduce a
runtime error that would be hard to debug, which goes against the principles of NeoHaskell.</p><p>A possibility would be to have another compile-time check, that would disallow the usage of the function if the
<code>main</code> function of that module hasn&#x27;t been called yet. Still, that is a complex task to implement, as we&#x27;d have to
figure out a way to track that, especially when branching is introduced, or even when concurrency is at play.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-astonishment">Impact on Principle of Least Astonishment<a href="#impact-on-principle-of-least-astonishment" class="hash-link" aria-label="Direct link to Impact on Principle of Least Astonishment" title="Direct link to Impact on Principle of Least Astonishment">​</a></h2><p>Most languages nowadays allow writing scripts directly in a file, so it would not be surprising for users to be able to do that in NeoHaskell.</p><p>On the other hand, having the separation between the import and the module initialization is something not common at
all in other languages, so it is a very alien thing unless we manage to find a way to make it more familiar.</p><p>A possibility here could be that script-style modules are not allowed to export anything, as they are scripts,
meant to be run directly, and not imported.</p><p>Also, another possibility would be to have main to return a record of functions, as scripts do not return anything.
(They can print stuff, and write to files, but they do not return anything, apart from an exit code).</p><p>This could introduce a powerful tool for defining services, as the service initialization would be done in the main
function and the service would be returned as a record of functions, which would be the API of the service:</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">module</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">ProductService</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">count</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">deleteById</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token import-statement keyword" style="color:rgb(255, 157, 0)">import</span><span class="token import-statement"> File</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token import-statement keyword" style="color:rgb(255, 157, 0)">import</span><span class="token import-statement"> Env</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">dbFile</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token hvariable">Env</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">get</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;DB_FILE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">          </span><span class="token operator" style="color:rgb(255, 157, 0)">|&gt;</span><span class="token plain"> </span><span class="token hvariable">orElse</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;db.sqlite&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">tableName</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token hvariable">Env</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">get</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;TABLE_NAME&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">             </span><span class="token operator" style="color:rgb(255, 157, 0)">|&gt;</span><span class="token plain"> </span><span class="token hvariable">orElse</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;products&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">db</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">File</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token builtin" style="color:rgb(250, 208, 0)">read</span><span class="token plain"> </span><span class="token hvariable">dbFile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">count</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IO</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">count</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">deleteById</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">UUID</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-&gt;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">deleteById</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(250, 208, 0)">id</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If we wrapped everything into a function named <code>init</code> making it compile to the following, it would enable
a very interesting pattern for defining services:</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">module</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">ProductService</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">count</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">deleteById</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">data</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">ProductService</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">ProductService</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">count</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IO</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">Int</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">deleteById</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">UUID</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-&gt;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token builtin" style="color:rgb(250, 208, 0)">init</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IO</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">ProductService</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token builtin" style="color:rgb(250, 208, 0)">init</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">dbFile</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token hvariable">Env</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">get</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;DB_FILE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">            </span><span class="token operator" style="color:rgb(255, 157, 0)">|&gt;</span><span class="token plain"> </span><span class="token hvariable">orElse</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;db.sqlite&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">tableName</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token hvariable">Env</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">get</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;TABLE_NAME&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">               </span><span class="token operator" style="color:rgb(255, 157, 0)">|&gt;</span><span class="token plain"> </span><span class="token hvariable">orElse</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;products&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">db</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">File</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token builtin" style="color:rgb(250, 208, 0)">read</span><span class="token plain"> </span><span class="token hvariable">dbFile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">count</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IO</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">Int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">count</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">deleteById</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">::</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">UUID</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">-&gt;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">IO</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">deleteById</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(250, 208, 0)">id</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">yield</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">ProductService</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token hvariable">count</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token hvariable">deleteById</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>So now, some code that would use this service could do the following:</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token import-statement keyword" style="color:rgb(255, 157, 0)">import</span><span class="token import-statement"> ProductService</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token hvariable">main</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token builtin" style="color:rgb(250, 208, 0)">product</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">ProductService</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token builtin" style="color:rgb(250, 208, 0)">init</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">totalProducts</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">&lt;-</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(250, 208, 0)">product</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">count</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token builtin" style="color:rgb(250, 208, 0)">print</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token hvariable">Int</span><span class="token hvariable punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token hvariable">toString</span><span class="token plain"> </span><span class="token hvariable">totalProducts</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Perhaps, at this point, it&#x27;d make sense to introduce a new keyword for defining services, instead of
relying on <code>module</code>? Maybe <code>service</code>?</p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token hvariable">service</span><span class="token plain"> </span><span class="token constant" style="color:rgb(250, 208, 0)">ProductService</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">count</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token hvariable">deleteById</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">-- and so on...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-developer-happiness">Impact on Principle of Developer Happiness<a href="#impact-on-principle-of-developer-happiness" class="hash-link" aria-label="Direct link to Impact on Principle of Developer Happiness" title="Direct link to Impact on Principle of Developer Happiness">​</a></h2><p>Many technologies allow the use of the same language as a way of configuring the application/project, for example,
in Ruby they use the language itself to define project dependencies or even the specification of the project.
<a href="https://github.com/rails/rails/blob/main/rails.gemspec" target="_blank" rel="noopener noreferrer">Here&#x27;s the gemspec file of Ruby on Rails</a>.</p><p>On the other hand, instead of writing scripts with Bash, Python or Ruby, one could use NeoHaskell, which is a much
more powerful language, and it would allow the user to use the same language for everything. Nowadays, people
are using Python in an &quot;explorative&quot; manner, where they write scripts and keep tweaking them until they get the
desired result, and then they put that into their application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="impact-on-principle-of-least-effort">Impact on Principle of Least Effort<a href="#impact-on-principle-of-least-effort" class="hash-link" aria-label="Direct link to Impact on Principle of Least Effort" title="Direct link to Impact on Principle of Least Effort">​</a></h2><p>This removes the necessity of having to write a <code>main</code> function, which is a very small thing, but it is still
something that the user has to do, and it is not something that is needed in other languages.</p><p>On the other hand, this does introduce many implementation tasks in the NeoHaskell codebase, so it is not something
that can be done in a short amount of time.</p></div><footer class="row docusaurus-mt-lg"></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/docs-intro">Get Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/wDj3UYzec8" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/neohaskell" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/neohaskell" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 NeoHaskell contributors</div></div></div></footer></div>
<script src="/assets/js/runtime~main.be67017e.js"></script>
<script src="/assets/js/main.739e0647.js"></script>
</body>
</html>